<!DOCTYPE html>
<html class="light" lang="vi"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>LMS Admin Dashboard</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#DC2626", // red-600
              "secondary": "#1E3A8A", // blue-900
              "background-light": "#F3F4F6", // gray-100
              "background-dark": "#111827", // gray-900
              "text-light-primary": "#1F2937", // gray-800
              "text-light-secondary": "#6B7280", // gray-500
              "text-dark-primary": "#F9FAFB", // gray-50
              "text-dark-secondary": "#9CA3AF", // gray-400
              "border-light": "#E5E7EB", // gray-200
              "border-dark": "#374151", // gray-700
              "card-light": "#ffffff",
              "card-dark": "#1F2937", // gray-800
            },
            fontFamily: {
              "display": ["Lexend", "sans-serif"]
            },
            borderRadius: {
                "DEFAULT": "0.5rem", // a bit more rounded
                "lg": "0.75rem", 
                "xl": "1rem", 
                "full": "9999px"
            },
          },
        },
      }
    </script>
<style>
      .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
      }
      .material-symbols-outlined.fill {
        font-variation-settings:
        'FILL' 1
      }
    </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-text-light-primary dark:text-dark-primary">
<div class="flex h-screen w-full">
<aside class="flex w-64 flex-col border-r border-border-light dark:border-border-dark bg-secondary text-white">
<div class="flex h-16 items-center gap-3 px-6 border-b border-blue-800 dark:border-blue-800">
<div class="text-primary size-8">
<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"></path></svg>
</div>
<h1 class="text-xl font-bold">LMS Admin</h1>
</div>
<nav class="flex flex-1 flex-col gap-2 p-4">
<a class="flex items-center gap-3 rounded-lg bg-primary px-3 py-2 text-white shadow-lg" href="code.html">
<span class="material-symbols-outlined fill">dashboard</span>
<p class="text-sm font-semibold">Dashboard</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="user-management.html">
<span class="material-symbols-outlined">group</span>
<p class="text-sm font-semibold">User Management</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="course-moderation.html">
<span class="material-symbols-outlined">rate_review</span>
<p class="text-sm font-semibold">Course Moderation</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="finance.html">
<span class="material-symbols-outlined">payments</span>
<p class="text-sm font-semibold">Finance</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="analytics.html">
<span class="material-symbols-outlined">analytics</span>
<p class="text-sm font-semibold">Analytics</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="system-logs.html">
<span class="material-symbols-outlined">history</span>
<p class="text-sm font-semibold">System Logs</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="monitoring.html">
<span class="material-symbols-outlined">monitor_heart</span>
<p class="text-sm font-semibold">Monitoring</p>
</a>
</nav>
<div class="mt-auto flex flex-col gap-2 p-4 border-t border-blue-800 dark:border-blue-800">
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="settings.html">
<span class="material-symbols-outlined">settings</span>
<p class="text-sm font-semibold">Settings</p>
</a>
<a class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-300 hover:bg-blue-800/60 hover:text-white transition-colors" href="#" onclick="handleLogout(event)">
<span class="material-symbols-outlined">logout</span>
<p class="text-sm font-semibold">Logout</p>
</a>
</div>
</aside>
<main class="flex flex-1 flex-col overflow-y-auto">
<header class="flex h-16 shrink-0 items-center justify-between border-b border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark px-6">
<div class="flex-1">
<label class="relative flex items-center max-w-sm">
<span class="material-symbols-outlined absolute left-3 text-text-light-secondary dark:text-dark-secondary">search</span>
<input id="searchInput" class="w-full rounded-full border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark py-2 pl-10 pr-4 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Search anything..." type="search"/>
</label>
</div>
<div class="flex items-center gap-4">
<button class="flex h-9 w-9 cursor-pointer items-center justify-center rounded-full bg-background-light dark:bg-background-dark text-text-light-secondary dark:text-dark-secondary hover:bg-primary/10 hover:text-primary">
<span class="material-symbols-outlined">notifications</span>
</button>
<div class="flex items-center gap-3">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" data-alt="Admin avatar" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAeZgX-ScIZ6ZsUWgD8K0D_gcpKOEGl99hsnpYLUgKzWkDz9BtO2xYPD3WbXyGmTDYWtvNnN8TlR3HzI1zcVb5-w3o8Hjh0thVIxjSiLHRBaye8IrxS_2TwFvB-fbowRHr4NHi-V5vvm1Z2sazxTOUIU8CKddxVPOksqls65Ego3G7X6CcqknWQuXbqv7-iG6Fn7riN03i35tTL4bdD5n4I8zSNcVVUo8oEcyXK53bKZLpFBn4dXPg-ZS5z0youWw__xi2L9FELL0A");'></div>
<div class="flex flex-col text-sm">
<p class="font-bold text-text-light-primary dark:text-dark-primary">Admin Name</p>
<p class="text-xs text-text-light-secondary dark:text-dark-secondary">Super Admin</p>
</div>
</div>
</div>
</header>
<div class="flex-1 space-y-8 p-6 md:p-8">
<div>
<h1 class="text-3xl font-extrabold tracking-tight">Tổng Quan Dashboard</h1>
<p class="text-text-light-secondary dark:text-dark-secondary mt-1">Chào mừng trở lại, Admin! Đây là những gì đang xảy ra hôm nay.</p>
</div>
<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4">
<div class="flex flex-col gap-2 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-5 shadow-sm transition-shadow hover:shadow-lg">
<div class="flex items-center justify-between">
<p class="text-sm font-semibold text-text-light-secondary dark:text-dark-secondary">Total Revenue</p>
<span class="material-symbols-outlined text-green-500">trending_up</span>
</div>
<p class="text-3xl font-extrabold">$125,430</p>
<p class="text-sm font-bold text-green-500">+2.5% from last month</p>
</div>
<div class="flex flex-col gap-2 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-5 shadow-sm transition-shadow hover:shadow-lg">
<div class="flex items-center justify-between">
<p class="text-sm font-semibold text-text-light-secondary dark:text-dark-secondary">New Users</p>
<span class="material-symbols-outlined text-green-500">person_add</span>
</div>
<p class="text-3xl font-extrabold">82</p>
<p class="text-sm font-bold text-green-500">+5.1% from last month</p>
</div>
<div class="flex flex-col gap-2 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-5 shadow-sm transition-shadow hover:shadow-lg">
<div class="flex items-center justify-between">
<p class="text-sm font-semibold text-text-light-secondary dark:text-dark-secondary">Courses Pending</p>
<span class="material-symbols-outlined text-yellow-500">pending_actions</span>
</div>
<p class="text-3xl font-extrabold">15</p>
<p class="text-sm font-bold text-yellow-500">Awaiting approval</p>
</div>
<div class="flex flex-col gap-2 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-5 shadow-sm transition-shadow hover:shadow-lg">
<div class="flex items-center justify-between">
<p class="text-sm font-semibold text-text-light-secondary dark:text-dark-secondary">System Errors</p>
<span class="material-symbols-outlined text-red-500">error</span>
</div>
<p class="text-3xl font-extrabold text-red-500">3</p>
<p class="text-sm font-bold text-red-500">Needs attention</p>
</div>
</div>
<div class="grid grid-cols-1 gap-6 lg:grid-cols-5">
<div class="lg:col-span-3 flex flex-col gap-2 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-6 shadow-sm">
<p class="text-lg font-bold">Revenue Over Time</p>
<div class="flex min-h-[300px] flex-1 flex-col justify-center">
<svg fill="none" height="100%" preserveAspectRatio="none" viewBox="0 0 500 200" width="100%" xmlns="http://www.w3.org/2000/svg">
<path d="M0 132.8C20 132.8 20 25.6 40 25.6C60 25.6 60 49.6 80 49.6C100 49.6 100 112 120 112C140 112 140 39.2 160 39.2C180 39.2 180 120.8 200 120.8C220 120.8 220 72.8 240 72.8C260 72.8 260 53.6 280 53.6C300 53.6 300 144.8 320 144.8C340 144.8 340 178.4 360 178.4C380 178.4 380 0.799988 400 0.799988C420 0.799988 420 96.8 440 96.8C460 96.8 460 154.4 480 154.4C500 154.4 500 29.6 500 29.6V200H0V132.8Z" fill="url(#paint0_linear_chart)"></path>
<path d="M0 132.8C20 132.8 20 25.6 40 25.6C60 25.6 60 49.6 80 49.6C100 49.6 100 112 120 112C140 112 140 39.2 160 39.2C180 39.2 180 120.8 200 120.8C220 120.8 220 72.8 240 72.8C260 72.8 260 53.6 280 53.6C300 53.6 300 144.8 320 144.8C340 144.8 340 178.4 360 178.4C380 178.4 380 0.799988 400 0.799988C420 0.799988 420 96.8 440 96.8C460 96.8 460 154.4 480 154.4C500 154.4 500 29.6 500 29.6" stroke="#DC2626" stroke-linecap="round" stroke-width="3"></path>
<defs>
<linearGradient gradientUnits="userSpaceOnUse" id="paint0_linear_chart" x1="250" x2="250" y1="0" y2="200">
<stop stop-color="#DC2626" stop-opacity="0.4"></stop>
<stop offset="1" stop-color="#DC2626" stop-opacity="0"></stop>
</linearGradient>
</defs>
</svg>
</div>
</div>
<div class="lg:col-span-2 flex flex-col gap-4 rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark p-6 shadow-sm">
<p class="text-lg font-bold">Course Status</p>
<div class="flex flex-1 items-center justify-center">
<div class="relative size-48">
<svg class="size-full" viewBox="0 0 36 36">
<path class="stroke-border-light dark:stroke-border-dark" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke-width="3"></path>
<path class="stroke-secondary" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831" fill="none" stroke-dasharray="75, 100" stroke-width="3"></path>
<path class="stroke-yellow-500" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831" fill="none" stroke-dasharray="15, 100" stroke-dashoffset="-75" stroke-width="3"></path>
<path class="stroke-primary" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831" fill="none" stroke-dasharray="10, 100" stroke-dashoffset="-90" stroke-width="3"></path>
</svg>
<div class="absolute inset-0 flex flex-col items-center justify-center">
<span class="text-3xl font-extrabold">1520</span>
<span class="text-sm text-text-light-secondary dark:text-dark-secondary">Total Courses</span>
</div>
</div>
</div>
<div class="flex justify-around text-xs font-semibold">
<div class="flex items-center gap-1.5"><div class="size-2.5 rounded-full bg-secondary"></div><span>Approved (75%)</span></div>
<div class="flex items-center gap-1.5"><div class="size-2.5 rounded-full bg-yellow-500"></div><span>Pending (15%)</span></div>
<div class="flex items-center gap-1.5"><div class="size-2.5 rounded-full bg-primary"></div><span>Rejected (10%)</span></div>
</div>
</div>
</div>
<div class="rounded-xl border border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark overflow-hidden shadow-sm">
<div class="p-4 border-b border-border-light dark:border-border-dark">
<h3 class="text-lg font-bold">Recent User Activities</h3>
<p class="text-sm text-text-light-secondary dark:text-dark-secondary">Latest actions performed by users across the platform.</p>
</div>
<div class="overflow-x-auto">
<table class="w-full text-sm">
<thead class="bg-background-light dark:bg-background-dark text-left text-xs text-text-light-secondary dark:text-dark-secondary uppercase tracking-wider">
<tr>
<th class="px-6 py-3 font-bold">User</th>
<th class="px-6 py-3 font-bold">Action</th>
<th class="px-6 py-3 font-bold">Status</th>
<th class="px-6 py-3 font-bold">Date</th>
<th class="px-6 py-3 font-bold"></th>
</tr>
</thead>
<tbody class="divide-y divide-border-light dark:divide-border-dark">
<tr class="hover:bg-gray-50 dark:hover:bg-gray-800/50">
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-9" data-alt="User avatar" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAcssMM4wedIRWm_Geo75iYvQAAxOnqCAp5dbvaBzrsrS-Zsv06VTyXnMAH5SEYm5U4CXiOJtxE_E03Xkm-1kDVXBcEXUuu1Ss3cv3IBAIYvJqWg8jaHqhO3Ad3vPFDqIZ2kVMUSgco2xfE5IvpVF74pjZ2P_xV_ZV2L77Ew4ZN9NCyghm0pmstLHi1HqO1dwqNILAssh22ZUhVvyNsQ0caUm5AXTv9-DDAZreTexPRHNrXMHJzAk_4PADHi2kUUEmBgLauqa3EbUA");'></div>
<div>
<p class="font-bold">John Doe</p>
<p class="text-xs text-text-light-secondary dark:text-dark-secondary">john.doe@example.com</p>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">Submitted a new course for review</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-full bg-yellow-100 dark:bg-yellow-900/50 px-2.5 py-0.5 text-xs font-bold text-yellow-800 dark:text-yellow-300">Pending</span>
</td>
<td class="px-6 py-4 text-text-light-secondary dark:text-dark-secondary whitespace-nowrap">2 hours ago</td>
<td class="px-6 py-4 text-right">
<button class="p-1 rounded-full hover:bg-background-light dark:hover:bg-background-dark text-text-light-secondary dark:text-dark-secondary">
<span class="material-symbols-outlined text-base">more_horiz</span>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50 dark:hover:bg-gray-800/50">
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-9" data-alt="User avatar" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAGrTHmQf9dUMLCAKVlCNR5IwZFKNPlP_I6Pd5o6YETB9VHGsGMv_giowUTs9D--M86FGud2YIOin1Y_hq2s5NjWdQTAqu5IGkCVycXMJD3dL1GUpDc3MumskZ5FC7GiW_FUeEaQvKxiIJh5_9oACcG9Jy7UHpXo-zNCnu2QBznh2GV3X8F2NVenIgBYkUz9oEiWugYEBq88ok7lpq0m2FNWUrOvTgs8atAc_RIOOJp_J7ZwxLjhBvIOlFIVxt-QqSU8LEhCr25GUM");'></div>
<div>
<p class="font-bold">Jane Smith</p>
<p class="text-xs text-text-light-secondary dark:text-dark-secondary">jane.smith@example.com</p>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">Completed a transaction of $49.99</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-full bg-green-100 dark:bg-green-900/50 px-2.5 py-0.5 text-xs font-bold text-green-800 dark:text-green-300">Success</span>
</td>
<td class="px-6 py-4 text-text-light-secondary dark:text-dark-secondary whitespace-nowrap">5 hours ago</td>
<td class="px-6 py-4 text-right">
<button class="p-1 rounded-full hover:bg-background-light dark:hover:bg-background-dark text-text-light-secondary dark:text-dark-secondary">
<span class="material-symbols-outlined text-base">more_horiz</span>
</button>
</td>
</tr>
<tr class="hover:bg-gray-50 dark:hover:bg-gray-800/50">
<td class="px-6 py-4 whitespace-nowrap">
<div class="flex items-center gap-3">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-9" data-alt="User avatar" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDyhx1NmZaN7wUBZYTWVfrMYkAMvMBsNYJqYtBi_AuNKYfwxT9SD4l_Il8D9v888SB-XD6cDHGQRZ0SaHeByVlKFSOtU5DrthY95e2epJTK02dEAlSmHVFm3JZtctslGf86MM1Qu0SE4QUIz_L7G9kjcn3h-OipY8wbgU4SGnYo7sHEkFSisimH9ZhwCtvL9TLY_7MIB7bmIqQ2AD_9YX4C9v9HBQajQXd-MKnwpaV-rLVZyASKVgHnQUcKrJm1KJZl65Khy6KNPzA");'></div>
<div>
<p class="font-bold">Mike Johnson</p>
<p class="text-xs text-text-light-secondary dark:text-dark-secondary">mike.j@example.com</p>
</div>
</div>
</td>
<td class="px-6 py-4 whitespace-nowrap">Account login failed (3 attempts)</td>
<td class="px-6 py-4 whitespace-nowrap">
<span class="inline-flex items-center rounded-full bg-red-100 dark:bg-red-900/50 px-2.5 py-0.5 text-xs font-bold text-red-800 dark:text-red-300">Locked</span>
</td>
<td class="px-6 py-4 text-text-light-secondary dark:text-dark-secondary whitespace-nowrap">Yesterday</td>
<td class="px-6 py-4 text-right">
<button class="p-1 rounded-full hover:bg-background-light dark:hover:bg-background-dark text-text-light-secondary dark:text-dark-secondary">
<span class="material-symbols-outlined text-base">more_horiz</span>
</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</main>
</div>

<script>
// Admin Dashboard Full Functionality

class AdminDashboard {
  constructor() {
    this.init();
  }

  init() {
    this.setupEventListeners();
    this.loadDashboardData();
    this.setupSearch();
    this.setupNotifications();
  }

  setupEventListeners() {
    // Navigation
    const navLinks = document.querySelectorAll('aside a');
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => this.handleNavClick(e, link));
    });

    // Search functionality
    const searchInput = document.getElementById('searchInput') || document.querySelector('input[placeholder="Search anything..."]');
    if (searchInput) {
      searchInput.addEventListener('input', (e) => this.handleSearch(e));
    }

    // Notification button
    const notificationBtn = document.querySelector('button:has(span.material-symbols-outlined)') || 
                            Array.from(document.querySelectorAll('button')).find(btn => 
                              btn.querySelector('span.material-symbols-outlined')?.textContent === 'notifications'
                            );
    if (notificationBtn) {
      notificationBtn.addEventListener('click', () => this.showNotifications());
    }
  }

  handleNavClick(e, link) {
    // Don't prevent default if it's a valid link
    const href = link.getAttribute('href');
    if (href && href !== '#' && !href.startsWith('javascript:')) {
      // Let the browser navigate normally
      return;
    }
    
    e.preventDefault();
    // Remove active state from all nav items
    document.querySelectorAll('aside a').forEach(a => {
      a.classList.remove('bg-primary', 'text-white', 'shadow-lg');
      a.classList.add('text-gray-300', 'hover:bg-blue-800/60');
      a.querySelector('.material-symbols-outlined')?.classList.remove('fill');
    });
    
    // Add active state to clicked item
    link.classList.add('bg-primary', 'text-white', 'shadow-lg');
    link.classList.remove('text-gray-300', 'hover:bg-blue-800/60');
    link.querySelector('.material-symbols-outlined')?.classList.add('fill');
    
    const section = link.textContent.trim();
    console.log('Navigated to:', section);
  }

  handleSearch(e) {
    const query = e.target.value.toLowerCase();
    console.log('Searching for:', query);
    
    // Search through table rows
    const rows = document.querySelectorAll('table tbody tr');
    rows.forEach(row => {
      const text = row.textContent.toLowerCase();
      row.style.display = text.includes(query) ? '' : 'none';
    });
  }

  loadDashboardData() {
    console.log('Dashboard data loaded');
    
    // Load data from localStorage if available
    const users = JSON.parse(localStorage.getItem('admin_users') || '[]');
    const courses = JSON.parse(localStorage.getItem('admin_courses') || '[]');
    const transactions = JSON.parse(localStorage.getItem('admin_transactions') || '[]');
    
    // Update stats dynamically
    if (users.length > 0) {
      const activeUsers = users.filter(u => u.status === 'active').length;
      document.querySelector('p:contains("New Users")')?.parentElement?.querySelector('.text-3xl')?.textContent = activeUsers;
    }
    
    if (courses.length > 0) {
      const pendingCourses = courses.filter(c => c.status === 'pending').length;
      document.querySelector('p:contains("Courses Pending")')?.parentElement?.querySelector('.text-3xl')?.textContent = pendingCourses;
    }
    
    // In a real app, this would fetch data from an API
  }

  showNotifications() {
    const notifications = [
      { type: 'course', message: 'John Doe submitted a new course for review', time: '2 hours ago' },
      { type: 'payment', message: 'Jane Smith completed a transaction of $49.99', time: '5 hours ago' },
      { type: 'error', message: '2 system errors need attention', time: 'Yesterday' },
      { type: 'user', message: '3 new users registered today', time: '3 hours ago' }
    ];
    
    const notificationHTML = `
      <div style="position: fixed; top: 80px; right: 20px; background: white; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); padding: 20px; min-width: 300px; z-index: 1000; max-height: 400px; overflow-y: auto;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #e5e7eb; padding-bottom: 10px;">
          <h3 style="font-weight: bold; font-size: 18px;">Notifications</h3>
          <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; cursor: pointer; font-size: 20px;">&times;</button>
        </div>
        ${notifications.map(n => `
          <div style="padding: 12px; margin-bottom: 10px; background: #f9fafb; border-radius: 8px; border-left: 3px solid ${n.type === 'error' ? '#dc2626' : n.type === 'payment' ? '#10b981' : '#3b82f6'};">
            <p style="font-size: 14px; margin: 0 0 5px 0;">${n.message}</p>
            <p style="font-size: 12px; color: #6b7280; margin: 0;">${n.time}</p>
          </div>
        `).join('')}
      </div>
    `;
    
    // Remove existing notification panel if any
    const existing = document.getElementById('notificationPanel');
    if (existing) existing.remove();
    
    // Create and show notification panel
    const panel = document.createElement('div');
    panel.id = 'notificationPanel';
    panel.innerHTML = notificationHTML;
    document.body.appendChild(panel);
    
    // Auto-remove after 10 seconds
    setTimeout(() => {
      if (panel.parentElement) panel.remove();
    }, 10000);
  }

  setupNotifications() {
    // Simulate notification badge updates
    setInterval(() => {
      const notifBadge = document.querySelector('.material-symbols-outlined:contains("notifications")');
      if (notifBadge) {
        console.log('Checking notifications...');
      }
    }, 30000);
  }
}

function handleLogout(e) {
  e.preventDefault();
  if (confirm('Are you sure you want to logout?')) {
    window.location.href = '../../index.html';
  }
}

// Initialize dashboard when page loads
document.addEventListener('DOMContentLoaded', () => {
  const dashboard = new AdminDashboard();
  
  // Add smooth animations to stat cards
  const statCards = document.querySelectorAll('.hover\\:shadow-lg');
  statCards.forEach((card, index) => {
    setTimeout(() => {
      card.style.opacity = '0';
      card.style.transform = 'translateY(20px)';
      setTimeout(() => {
        card.style.transition = 'all 0.5s ease-out';
        card.style.opacity = '1';
        card.style.transform = 'translateY(0)';
      }, 50);
    }, index * 100);
  });
  
  // Auto-update dashboard stats
  setInterval(() => {
    dashboard.loadDashboardData();
  }, 60000);
  
  // Update "time ago" text in user activities table
  const updateTimeAgo = () => {
    const timeElements = document.querySelectorAll('td:contains("ago")');
    // This would update relative time if needed
  };
  setInterval(updateTimeAgo, 60000);
});

// Export for use in modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = AdminDashboard;
}
</script>
</body></html>